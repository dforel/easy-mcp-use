---
title: 基础使用指南
description: "了解 easy-mcp-use 的核心概念和基本用法"
---

# 基础使用指南

## 什么是 easy-mcp-use？

easy-mcp-use 是一个 TypeScript 库，它实现了模型上下文协议（Model Context Protocol，MCP），使您能够轻松地将各种工具和服务与语言模型集成。它提供了一个统一的接口来管理和使用这些工具，无论是浏览器自动化、HTTP 请求还是文件系统操作。

## 核心概念

### MCPClient

MCPClient 是与 MCP 服务器交互的核心类。它负责：

- 管理服务器配置
- 创建和维护会话
- 处理连接生命周期

### 会话（Session）

会话代表与特定 MCP 服务器的连接。每个会话可以：

- 发现和使用可用工具
- 执行工具操作
- 管理状态和资源

### 代理（Agent）

MCPAgent 结合了语言模型和 MCP 客户端，可以：

- 理解自然语言指令
- 选择合适的工具
- 执行复杂的任务序列

## 配置

### 服务器配置

服务器配置定义了如何启动和连接到 MCP 服务器：

```json
{
  "mcpServers": {
    "browser": {
      "command": "npx",
      "args": ["@playwright/mcp@latest"],
      "env": {
        "DISPLAY": ":0"
      }
    }
  }
}
```

### 代理配置

代理配置决定了代理的行为和能力：

```typescript
import { MCPAgent } from 'easy-mcp-use';
import { ChatOpenAI } from 'langchain/chat_models/openai';

const agent = new MCPAgent({
  llm: new ChatOpenAI({ modelName: "gpt-4" }),
  maxSteps: 30,
  memoryEnabled: true
});
```

## 最佳实践

### 错误处理

始终使用 try-catch 块处理可能的错误：

```typescript
try {
  const session = await client.createSession('browser');
  // 使用会话
} catch (error) {
  console.error('会话创建失败:', error);
}
```

### 资源管理

确保正确关闭会话和清理资源：

```typescript
const session = await client.createSession('browser');
try {
  // 使用会话
} finally {
  await session.close();
}
```

### 并发处理

当需要同时使用多个服务器时：

```typescript
const sessions = await Promise.all([
  client.createSession('browser'),
  client.createSession('http')
]);
```

## 下一步

- 查看[快速入门指南](/quickstart)获取实践示例
- 阅读[API 参考文档](/api-reference/introduction)了解详细信息
- 探索[开发指南](/development/customization)学习如何扩展功能